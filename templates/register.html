{% extends "base_site1.html" %}

{% block title %} Register {% endblock title %}

{% block content %}

<br>
<div class="container mt-0">
    <form action="/signup/" method="POST">
        <div class="row justify-content-center">
            {% if not 'logged_in' in session %}
            <div class="col-lg-6 col-12 px-lg-3">
                <div class="card-custom mt-2 mt-lg-0 help-card">
          <div class="text-center mt-2 mb-3">
                    <h3 class="font-weight-bold my-3" style="text-align: center">Register</h3>
            <hr>
            {% with messages = get_flashed_messages() %} {% if messages %} {% for message in messages %}
            {% if (message.startswith("Registered")) %}
            <div class="alert alert-success alert-dismissible" role="alert">
              <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                  aria-hidden="true">×</span></button>
              {{message}}
            </div>
            {% else %}
            <div class="alert alert-danger alert-dismissible" role="alert">
              <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
                  aria-hidden="true">×</span></button>
              {{message}}
            </div>
            {% endif %}

            {% endfor %} {% endif %} {% endwith %}

                    <div class="form-group mb-3 ">
                        <input type="text" class="form-control" name="name" placeholder="Name" aria-label="name"
                            aria-describedby="basic-addon1" required>
                    </div>
                    
                    <div class="form-group mb-3  who-are-you">
                        <select class="custom-select" name="role" id="inputGroupSelect03">
                            <option disabled selected>--- Who are you? ---</option>
                            <option value="v">Volunteer</option>
                            <option value="n">Relief Provider</option>
                        </select>
                    </div>
                    <div class="form-group mb-3 ">
                    <input type="email" name="username" class="form-control" placeholder="Email" aria-label="Username"
                    aria-describedby="basic-addon1" required>
                                        </div>
                    <div class="form-group mb-3 ">

                    <input type="password" class="form-control" placeholder="Password" name="password" aria-label="Password"
                               aria-describedby="basic-addon1" required>
                    </div>
                    <div class="form-group mb-3 ">

                        <input type="password" name="confirm" class="form-control" placeholder="Confirm Password"
                               aria-label="Username"
                               aria-describedby="basic-addon1" required>
                    </div>
                    <div class="form-group mb-3">
                        <input type="number" name="pincode" class="form-control" placeholder="Pincode" aria-label="Username"
                               aria-describedby="basic-addon1" required>
                    </div>
                    <div class="form-group mb-3 ">
                        <input type="tel" class="form-control" name="phone" placeholder="Phone No" aria-label="Username"
                               aria-describedby="basic-addon1" required>
                    </div>
                    
                    <div class="form-group mb-3 ">
                        <table style="margin-left:15px;">
                            <tr>
                                <td align="left"><b>Select one or more services</b></td>
                                <td></td>
                            </tr>

                            <tr>
                                <td align="left"><input type="checkbox" name='serve' value="Food View"> Food</td>
                            </tr>

                            <tr>
                                <td align="left"><input type="checkbox" name='serve' value="Health View"> Healthcare</td>
                            </tr>

                            <tr>
                                <td align="left"><input type="checkbox" name='serve' value="Shelter View"> Shelter</td>
                            </tr>

                            <tr>
                                <td align="left"><input type="checkbox" name='serve' value="Clothing"> Clothing</td>
                            </tr>

                            <tr>
                                <td align="left"><input type="checkbox" name='serve' value="Medical Equipments"> Medical Equipments</td>
                            </tr>

                            <tr>
                                <td align="left"><input type="checkbox" name='serve' value="Others"> Others</td>
                            </tr>
                                
                        </table>
                    </div>

                    <div class="form-group mb-3  volunteer-field">
                        <input type="number" name="age" class="form-control" placeholder="Age" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                    <div class="form-group mb-3 ">
                        <input type="text" class="form-control" name="address" placeholder="Address" aria-label="address"
 aria-describedby="basic-addon1" required>
                    </div>
                    <div class="form-group mb-3  volunteer-field">
                        <select class="custom-select" name="gender" id="inputGroupSelect03">
                            <option disabled selected>--- Sex ---</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Others">Others</option>
                            <option value="Prefer not to say">Prefer not to say</option>
                        </select>
                    </div>
                    <div class="form-group mb-3  volunteer-field">
                        <select class="custom-select" name="currProfile" id="inputGroupSelect03">
                            <option disabled selected>--- Current Profile ---</option>
                            <option value="Student">Student</option>
                            <option value="Working Professional">Working Professional</option>
                            <option value="Home Maker">Home Maker</option>
                            <option value="Others">Others</option>
                        </select>
                    </div>
                    <div class="form-group mb-3  ngo-field">
                        <input type="text" class="form-control" placeholder="Any Govt. ID" name="govtID" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                    <div class="form-group mb-3  ngo-field">
                        <input type="text" class="form-control" placeholder="Registration No." name="regno" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                    <div class="form-group mb-3  ngo-field">
                        <input type="text" class="form-control" placeholder="Branch (Optional)" name="branch" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                    <div class="form-group mb-3  ngo-field">
                        <input type="url" class="form-control" placeholder="Website (Optional)" name="website" aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                    <div class="form-group mb-3  ngo-field">
                        <input type="text" class="form-control" name="social" placeholder="Social Media Handle (Optional)"
                               aria-label="Username"
                               aria-describedby="basic-addon1">
                    </div>
                    <div class="form-group my-3">
                        <textarea rows="5" class="form-control" name="about" aria-label="With textarea"
                                  placeholder="About you"></textarea>
                    </div>
                    <div style="text-align: center" class="mb-3 ">
                        <button class="btn btn-outline-primary" name="register" type="submit" style="width: 100%">Register</button>
                    </div>
                    <div style="text-align: center" class=" mb-3">
                        <p>Already have an account? <a href="{{ url_for('login') }}">Login</a></p>
                    </div>
                </div>
            </div>

        </div>
    </form>
    {% else %}
<p>You are Already Logged In  <a href="{{ url_for('logout') }}" class=" btn btn-outline-danger" style="height: 30px; font-size: 12px;"> <b>Logout</b> </a></p>
{% endif %}
</div>

<br/><br/>

<script>

    $(document).ready(function () {
        $('.volunteer-field').hide();
        $('.ngo-field').hide();
        $(".who-are-you select").change(function () {
            var selectedOption = $(this).children("option:selected").val();
            if (selectedOption === 'v') {
                $('.volunteer-field').show();
                $('.ngo-field').hide();
            } else if (selectedOption === 'n') {
                $('.volunteer-field').hide();
                $('.ngo-field').show();
            } else {
                $('.volunteer-field').hide();
                $('.ngo-field').hide();
            }
        });
    });
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

  {% endblock content %}